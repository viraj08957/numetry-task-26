{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _standardFont = _interopRequireDefault(require(\"./standardFont\"));\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar fontCache = {};\nvar IGNORED_CODE_POINTS = [173];\nvar getFontSize = R.pathOr(12, ['attributes', 'fontSize']);\n\nvar getOrCreateFont = function getOrCreateFont(name) {\n  if (fontCache[name]) return fontCache[name];\n  var font = new _standardFont.default(name);\n  fontCache[name] = font;\n  return font;\n};\n\nvar getFallbackFont = function getFallbackFont() {\n  return getOrCreateFont('Helvetica');\n};\n\nvar shouldFallbackToFont = function shouldFallbackToFont(codePoint, font) {\n  return !font || !IGNORED_CODE_POINTS.includes(codePoint) && !font.hasGlyphForCodePoint(codePoint) && getFallbackFont().hasGlyphForCodePoint(codePoint);\n};\n\nvar fontSubstitution = function fontSubstitution() {\n  return function (_ref) {\n    var string = _ref.string,\n        runs = _ref.runs;\n    var lastFont = null;\n    var lastFontSize = null;\n    var lastIndex = 0;\n    var index = 0;\n    var res = [];\n\n    for (var _iterator = _createForOfIteratorHelperLoose(runs), _step; !(_step = _iterator()).done;) {\n      var run = _step.value;\n      var defaultFont = typeof run.attributes.font === 'string' ? getOrCreateFont(run.attributes.font) : run.attributes.font;\n\n      if (string.length === 0) {\n        res.push({\n          start: 0,\n          end: 0,\n          attributes: {\n            font: defaultFont\n          }\n        });\n        break;\n      }\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(string.slice(run.start, run.end)), _step2; !(_step2 = _iterator2()).done;) {\n        var char = _step2.value;\n        var codePoint = char.codePointAt();\n        var shouldFallback = shouldFallbackToFont(codePoint, defaultFont); // If the default font does not have a glyph and the fallback font does, we use it\n\n        var font = shouldFallback ? getFallbackFont() : defaultFont;\n\n        var _fontSize = getFontSize(run); // If anything that would impact res has changed, update it\n\n\n        if (font !== lastFont || _fontSize !== lastFontSize || font.unitsPerEm !== lastFont.unitsPerEm) {\n          if (lastFont) {\n            res.push({\n              start: lastIndex,\n              end: index,\n              attributes: {\n                font: lastFont,\n                scale: lastFontSize / lastFont.unitsPerEm\n              }\n            });\n          }\n\n          lastFont = font;\n          lastFontSize = _fontSize;\n          lastIndex = index;\n        }\n\n        index += char.length;\n      }\n    }\n\n    if (lastIndex < string.length) {\n      var fontSize = getFontSize(R.last(runs));\n      res.push({\n        start: lastIndex,\n        end: string.length,\n        attributes: {\n          font: lastFont,\n          scale: fontSize / lastFont.unitsPerEm\n        }\n      });\n    }\n\n    return {\n      string: string,\n      runs: res\n    };\n  };\n};\n\nvar _default = fontSubstitution;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Viraj/Desktop/task 26/numetry-task-26/node_modules/@react-pdf/layout/lib/text/fontSubstitution.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","default","R","_standardFont","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","done","value","TypeError","next","bind","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","fontCache","IGNORED_CODE_POINTS","getFontSize","pathOr","getOrCreateFont","font","getFallbackFont","shouldFallbackToFont","codePoint","includes","hasGlyphForCodePoint","fontSubstitution","_ref","string","runs","lastFont","lastFontSize","lastIndex","index","res","_iterator","_step","run","defaultFont","attributes","push","start","end","_iterator2","_step2","char","codePointAt","shouldFallback","_fontSize","unitsPerEm","scale","fontSize","last","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _standardFont = _interopRequireDefault(require(\"./standardFont\"));\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar fontCache = {};\nvar IGNORED_CODE_POINTS = [173];\nvar getFontSize = R.pathOr(12, ['attributes', 'fontSize']);\n\nvar getOrCreateFont = function getOrCreateFont(name) {\n  if (fontCache[name]) return fontCache[name];\n  var font = new _standardFont.default(name);\n  fontCache[name] = font;\n  return font;\n};\n\nvar getFallbackFont = function getFallbackFont() {\n  return getOrCreateFont('Helvetica');\n};\n\nvar shouldFallbackToFont = function shouldFallbackToFont(codePoint, font) {\n  return !font || !IGNORED_CODE_POINTS.includes(codePoint) && !font.hasGlyphForCodePoint(codePoint) && getFallbackFont().hasGlyphForCodePoint(codePoint);\n};\n\nvar fontSubstitution = function fontSubstitution() {\n  return function (_ref) {\n    var string = _ref.string,\n        runs = _ref.runs;\n    var lastFont = null;\n    var lastFontSize = null;\n    var lastIndex = 0;\n    var index = 0;\n    var res = [];\n\n    for (var _iterator = _createForOfIteratorHelperLoose(runs), _step; !(_step = _iterator()).done;) {\n      var run = _step.value;\n      var defaultFont = typeof run.attributes.font === 'string' ? getOrCreateFont(run.attributes.font) : run.attributes.font;\n\n      if (string.length === 0) {\n        res.push({\n          start: 0,\n          end: 0,\n          attributes: {\n            font: defaultFont\n          }\n        });\n        break;\n      }\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(string.slice(run.start, run.end)), _step2; !(_step2 = _iterator2()).done;) {\n        var char = _step2.value;\n        var codePoint = char.codePointAt();\n        var shouldFallback = shouldFallbackToFont(codePoint, defaultFont); // If the default font does not have a glyph and the fallback font does, we use it\n\n        var font = shouldFallback ? getFallbackFont() : defaultFont;\n\n        var _fontSize = getFontSize(run); // If anything that would impact res has changed, update it\n\n\n        if (font !== lastFont || _fontSize !== lastFontSize || font.unitsPerEm !== lastFont.unitsPerEm) {\n          if (lastFont) {\n            res.push({\n              start: lastIndex,\n              end: index,\n              attributes: {\n                font: lastFont,\n                scale: lastFontSize / lastFont.unitsPerEm\n              }\n            });\n          }\n\n          lastFont = font;\n          lastFontSize = _fontSize;\n          lastIndex = index;\n        }\n\n        index += char.length;\n      }\n    }\n\n    if (lastIndex < string.length) {\n      var fontSize = getFontSize(R.last(runs));\n      res.push({\n        start: lastIndex,\n        end: string.length,\n        attributes: {\n          font: lastFont,\n          scale: fontSize / lastFont.unitsPerEm\n        }\n      });\n    }\n\n    return {\n      string: string,\n      runs: res\n    };\n  };\n};\n\nvar _default = fontSubstitution;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}